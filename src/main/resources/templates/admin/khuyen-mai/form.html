<!-- File: admin/khuyen-mai/form.html -->
<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>Form Khuyến Mãi - DirtyWaves Admin</title>
</head>
<body>

<!-- Header -->
<header>
    <h2>DirtyWaves Admin</h2>
    <hr />
</header>

<!-- Layout: Sidebar + Content -->
<table style="width: 100%; border-collapse: collapse;">
    <tr>
        <!-- Sidebar -->
        <td style="width: 220px; vertical-align: top; border-right: 1px solid #ccc; padding: 10px;">
            <h3>Menu</h3>
            <ul>
                <li>
                    <a th:href="@{/admin/kich-thuoc}">Kích thước</a>
                </li>
                <li>
                    <a th:href="@{/admin/khuyen-mai}">Khuyến mãi</a>
                </li>
            </ul>
        </td>

        <!-- Content -->
        <td style="vertical-align: top; padding: 10px;">
            <h1 th:if="${khuyenMai != null && khuyenMai.id == null}">Thêm Khuyến Mãi</h1>
            <h1 th:if="${khuyenMai != null && khuyenMai.id != null}">Cập nhật Khuyến Mãi</h1>

            <!-- Errors -->
            <div th:if="${errors != null && !#lists.isEmpty(errors)}"
                 style="border: 1px solid #cc0000; padding: 10px; margin-bottom: 15px;">
                <strong>Vui lòng kiểm tra lỗi:</strong>
                <ul>
                    <li th:each="e : ${errors}" th:text="${e}">Lỗi</li>
                </ul>
            </div>

            <!-- FORM CREATE -->
            <form th:if="${khuyenMai.id == null}"
                  th:object="${khuyenMai}"
                  th:action="@{/admin/khuyen-mai/store}"
                  method="post">

                <table cellpadding="6">
                    <tr>
                        <td>Mã khuyến mãi</td>
                        <td><input type="text" th:field="*{maKhuyenMai}" /></td>
                    </tr>
                    <tr>
                        <td>Tên khuyến mãi</td>
                        <td><input type="text" th:field="*{tenKhuyenMai}" /></td>
                    </tr>
                    <tr>
                        <td>Giá trị giảm</td>
                        <td><input type="number" th:field="*{giaTriGiam}" /></td>
                    </tr>
                    <tr>
                        <td>Ngày bắt đầu</td>
                        <td><input type="date" th:field="*{ngayBatDau}" /></td>
                    </tr>
                    <tr>
                        <td>Ngày kết thúc</td>
                        <td><input type="date" th:field="*{ngayKetThuc}" /></td>
                    </tr>
                    <tr>
                        <td>Trạng thái</td>
                        <td>
                            <select th:field="*{trangThai}">
                                <option value="Hoạt động">Hoạt động</option>
                                <option value="Ngừng">Ngừng</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td></td>
                        <td>
                            <button type="submit">Lưu</button>
                            <a th:href="@{/admin/khuyen-mai}" style="margin-left: 10px;">Quay lại</a>
                        </td>
                    </tr>
                </table>
            </form>

            <!-- FORM UPDATE -->
            <form th:if="${khuyenMai.id != null}"
                  th:object="${khuyenMai}"
                  th:action="@{/admin/khuyen-mai/update/{id}(id=${khuyenMai.id})}"
                  method="post">

                <input type="hidden" th:field="*{id}" />

                <table cellpadding="6">
                    <tr>
                        <td>Mã khuyến mãi</td>
                        <td>
                            <input type="text" th:field="*{maKhuyenMai}" readonly />
                        </td>
                    </tr>
                    <tr>
                        <td>Tên khuyến mãi</td>
                        <td><input type="text" th:field="*{tenKhuyenMai}" /></td>
                    </tr>
                    <tr>
                        <td>Giá trị giảm</td>
                        <td><input type="number" th:field="*{giaTriGiam}" /></td>
                    </tr>
                    <tr>
                        <td>Ngày bắt đầu</td>
                        <td><input type="date" th:field="*{ngayBatDau}" /></td>
                    </tr>
                    <tr>
                        <td>Ngày kết thúc</td>
                        <td><input type="date" th:field="*{ngayKetThuc}" /></td>
                    </tr>
                    <tr>
                        <td>Trạng thái</td>
                        <td>
                            <select th:field="*{trangThai}">
                                <option value="Hoạt động">Hoạt động</option>
                                <option value="Ngừng">Ngừng</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td></td>
                        <td>
                            <button type="submit">Cập nhật</button>
                            <a th:href="@{/admin/khuyen-mai}" style="margin-left: 10px;">Quay lại</a>
                        </td>
                    </tr>
                </table>
            </form>

        </td>
    </tr>
</table>

</body>
</html>
